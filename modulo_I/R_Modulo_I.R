##======================================================================
##
## Software Carpentry
## FURG - Brasil
## 12 e 13 de maio, 2014
##
##
##======================================================================


## ----eval=FALSE----------------------------------------------------------
## getwd()


## ----prompt=TRUE---------------------------------------------------------
2 + 2


## ----prompt=TRUE---------------------------------------------------------
2 *
2


## ----prompt=TRUE---------------------------------------------------------
2+         2


## ----prompt=FALSE, eval=FALSE--------------------------------------------
## 2 + 2     # esta linha será executada
## # 2 + 2     esta linha não será executada


## ------------------------------------------------------------------------
5 * 2 - 10 + 7
5 * 2 - (10 + 7)
5 * (2 - 10 + 7)
5 * (2 - (10 + 7))


## ----eval=FALSE----------------------------------------------------------
## nome(argumento1, argumento2, ...)


## ----eval=FALSE----------------------------------------------------------
## runif(n, min = 0, max = 1)


## ------------------------------------------------------------------------
runif(10, 1, 100)


## ----eval=FALSE----------------------------------------------------------
## runif(10)


## ----eval=FALSE----------------------------------------------------------
## runif(min = 1, max = 100, n = 10)


## ----eval=FALSE----------------------------------------------------------
## runif(10, max = 100, min = 1)


## ----eval=FALSE----------------------------------------------------------
## sample(x, size, replace = FALSE, prob = NULL)


## ----eval=FALSE----------------------------------------------------------
## plot(x, y, ...)


## ----eval=FALSE----------------------------------------------------------
## ?runif


## ----eval=FALSE----------------------------------------------------------
## help(runif)


## ----eval=FALSE----------------------------------------------------------
## help.search("palavra")


## ----eval=FALSE----------------------------------------------------------
## help.start()


## ----eval=FALSE----------------------------------------------------------
## RSiteSearch("palavra")


## ------------------------------------------------------------------------
ola.mundo <- function(){
    writeLines("Olá mundo")
}


## ------------------------------------------------------------------------
ola.mundo()


## ------------------------------------------------------------------------
ola.mundo <- function(texto){
    writeLines(texto)
}


## ------------------------------------------------------------------------
ola.mundo("Funções são legais")


## ----echo=FALSE, eval=FALSE----------------------------------------------
## soma <- function(x, y){
##     x + y
## }
## soma(2,2)


## ----eval=FALSE----------------------------------------------------------
## methods(summary)
## methods(plot)


## ------------------------------------------------------------------------
x <- 2


## ------------------------------------------------------------------------
x


## ------------------------------------------------------------------------
x <- 2


## ------------------------------------------------------------------------
x <- 2
y <- 4


## ------------------------------------------------------------------------
x <- 2; y <- 4


## ------------------------------------------------------------------------
x + x


## ------------------------------------------------------------------------
y <- runif(10)
y


## ----eval=FALSE----------------------------------------------------------
## ls()


## ----eval=FALSE----------------------------------------------------------
## rm(x)


## ----eval=FALSE----------------------------------------------------------
## rm(x, y)


## ----eval=FALSE----------------------------------------------------------
## rm(list = ls())


## ------------------------------------------------------------------------
num <- c(10, 5, 2, 4, 8, 9)
num


## ------------------------------------------------------------------------
seq(1, 10)


## ------------------------------------------------------------------------
seq(from = 1, to = 10, by = 2)


## ------------------------------------------------------------------------
seq(from = 1, to = 10, length.out = 15)


## ------------------------------------------------------------------------
rep(1, 10)


## ------------------------------------------------------------------------
rep(c(1, 2, 3), 5)


## ------------------------------------------------------------------------
rep(c(1, 2, 3), each = 5)


## ------------------------------------------------------------------------
num * 2


## ------------------------------------------------------------------------
num * num
num + c(2, 4, 1)


## ----eval=FALSE----------------------------------------------------------
## num + c(2, 4, 1, 3)


## ------------------------------------------------------------------------
class(num)


## ------------------------------------------------------------------------
length(num)


## ------------------------------------------------------------------------
caracter <- c("brava", "joaquina", "armação")
caracter


## ------------------------------------------------------------------------
logico <- caracter == "armação"
logico


## ------------------------------------------------------------------------
logico <- num > 4
logico


## ------------------------------------------------------------------------
fator <- factor(c("alta","baixa","baixa","media",
                  "alta","media","baixa","media","media"))
fator
class(fator)


## ------------------------------------------------------------------------
fator <- factor(c("alta","baixa","baixa","media",
                  "alta","media","baixa","media","media"),
                levels = c("alta","media","baixa"))
fator


## ------------------------------------------------------------------------
matriz <- matrix(1:12, nrow = 3, ncol = 4)
matriz
class(matriz)


## ------------------------------------------------------------------------
matriz <- matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE)
matriz


## ------------------------------------------------------------------------
dim(matriz)


## ------------------------------------------------------------------------
cbind(matriz, rep(99, 3))


## ------------------------------------------------------------------------
rbind(matriz, rep(99, 4))


## ------------------------------------------------------------------------
matriz * 2


## ------------------------------------------------------------------------
matriz2 <- matrix(1, nrow = 4, ncol = 3)
matriz %*% matriz2


## ------------------------------------------------------------------------
rownames(matriz) <- c("A","B","C")
colnames(matriz) <- c("T1","T2","T3","T4")
matriz


## ------------------------------------------------------------------------
lista <- list(a = 1:10, b = c("T1","T2","T3","T4"))
lista
class(lista)


## ------------------------------------------------------------------------
lista <- list(fator = fator, matriz = matriz)
lista
length(lista)


## ------------------------------------------------------------------------
dataFrame <- data.frame(ano = 2000:2004,
                        captura = c(32, 54, 25, 48, 29))
dataFrame
class(dataFrame)


## ------------------------------------------------------------------------
dataFrame <- data.frame(numerico = c(num, NA, NA, NA),
                        fator = fator)
dataFrame


## ------------------------------------------------------------------------
perd <- c(3, 5, NA, 2)
perd
class(perd)


## ------------------------------------------------------------------------
is.na(perd)


## ------------------------------------------------------------------------
any(is.na(perd))


## ------------------------------------------------------------------------
perd <- c(-1,0,1)/0
perd
is.na(perd)


## ------------------------------------------------------------------------
is.infinite(perd)


## ------------------------------------------------------------------------
cont <- c(8, 4, NA, 9, 6, 1, 7, 9)
cont


## ------------------------------------------------------------------------
cont[4]


## ------------------------------------------------------------------------
cont[c(1, 4, 8)]


## ------------------------------------------------------------------------
ind <- c(1, 4, 8)
cont[ind]


## ------------------------------------------------------------------------
cont[-c(1, 4, 8)]


## ------------------------------------------------------------------------
cont[1:5]


## ------------------------------------------------------------------------
cont[!is.na(cont)]


## ------------------------------------------------------------------------
cont[is.na(cont)] <- 0
cont


## ------------------------------------------------------------------------
mat <- matrix(1:9, nrow=3)
mat


## ------------------------------------------------------------------------
mat[2,3]


## ------------------------------------------------------------------------
mat[,1]


## ------------------------------------------------------------------------
mat[1,]


## ------------------------------------------------------------------------
mat[c(1,3), c(2,3)]


## ------------------------------------------------------------------------
lis <- list(vetor1 = c(3, 8, 7, 4), vetor2 = 5:0)
lis


## ------------------------------------------------------------------------
lis[[2]]


## ------------------------------------------------------------------------
lis[[1]][3]


## ------------------------------------------------------------------------
lis$vetor2


## ------------------------------------------------------------------------
dframe <- data.frame(col1 = 4:1, col2 = c(2,NA,5,8))
dframe


## ------------------------------------------------------------------------
dframe[2,1]


## ------------------------------------------------------------------------
dframe[,2]


## ------------------------------------------------------------------------
dframe[,"col2"]


## ------------------------------------------------------------------------
dframe[1,]


## ------------------------------------------------------------------------
dframe["1",]


## ------------------------------------------------------------------------
dframe$col1


## ------------------------------------------------------------------------
dframe$col2[3]


## ------------------------------------------------------------------------
dframe$col2[c(2,4)]


## ------------------------------------------------------------------------
with(dframe, col1)


## ------------------------------------------------------------------------
dframe$col1


## ------------------------------------------------------------------------
dados <- c(5, 15, 42, 28, 79, 4, 7, 14)


## ------------------------------------------------------------------------
dados[dados > 15]


## ------------------------------------------------------------------------
dados[dados > 15 & dados <= 35]


## ------------------------------------------------------------------------
dados > 15 & dados <= 35


## ------------------------------------------------------------------------
dados <- data.frame(ano = c(2001,2002,2003,2004,2005),
                    captura = c(26,18,28,26,NA),
                    porto = c("SP","RS","SC","SC","RN"))


## ------------------------------------------------------------------------
dados[dados$ano == 2004,]


## ------------------------------------------------------------------------
dados[dados$porto == "SC",]


## ------------------------------------------------------------------------
dados[dados$captura > 20, "captura"]


## ------------------------------------------------------------------------
dados[dados$captura > 20 & !is.na(dados$captura),]


## ------------------------------------------------------------------------
dados[dados$captura > 25 & dados$porto == "SP",]


## ------------------------------------------------------------------------
subset(dados, captura > 25 & porto == "SP")


## ----eval=FALSE----------------------------------------------------------
## save.image()


